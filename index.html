<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json"/>
  <meta name="theme-color" content="#000000"/>
  <meta name="description" content="PWA mobile app by Robert Alvarez">
  <title>Nutrition Facts Calculator</title>
</head>
<body>
    
<!--  Nutrition  -->

  <h5 class ="appTitle">Nutrition Facts Calculator</h5>
  <div id="nutritionDivision">
    <p>1 Portion Value</p>
    <label for="calories">Calories</label>
    <input class="nutritionInput" id="calories" name="calories" type="text"><br>
    <label for="totalFat">Total Fat</label>
    <input class="nutritionInput" id="totalFat" name="totalFat" type="text"><br>
    <label for="fiber">Fiber</label>
    <input class="nutritionInput" id="fiber" name="fiber" type="text"><br>
    <button class="bigButton" type="button" onclick="clearPts()">Clear</button>
    <button class="bigButton" type="button" onclick='location.href="add.html"'>Add</button>
    <button class="bigButton" type="button" onclick="calc()">Calc</button>
  </div>
  
  <h1 id="nutritionPointValue">0</h1>

  <button class="bigNavButton" type="button" onclick='location.href="allowance.html"'>Allowance Calc</button>

  <div id="menu">
    <a href="index.html" style="color: white;">Calc</a>
    <a href="list.html">List</a>
    <a href="count.html">Count</a>
  </div>

  <!-- hitwebcounter Code START -->
<img src="https://hitwebcounter.com/counter/counter.php?page=10038038&style=0007&nbdigits=5&type=page&initCount=0" title="Counter Widget" Alt="Visit counter For Websites"   border="0" /></a>  
  
  <script src="script.js"></script>
  <script>
    let getValuePts = localStorage.getItem('valuePts');
    document.getElementById('nutritionPointValue').innerHTML = getValuePts;

        // CALC NUTRITION FACT POINTS
    function calc() {
      let calories = document.getElementById('calories').value;
      let totalFat= document.getElementById('totalFat').value;
      let fiber = document.getElementById('fiber').value;
      
      // calculation
      let calPts = calories / 50;
      let fatPts = totalFat / 12;
      let fibPts = fiber / 5;
      let valuePts = (calPts + fatPts) - fibPts;
      let totalValuePts = valuePts.toFixed(2)
      // save to localstorage
      localStorage.setItem('valuePts', totalValuePts);
      let getValuePts = localStorage.getItem('valuePts');
      document.getElementById('nutritionPointValue').innerHTML = getValuePts;
    };
      
    // CLEAR VALUEPTS
    function clearPts() {
      localStorage.setItem('valuePts', 0);
      let getValuePts = localStorage.getItem('valuePts');
      document.getElementById('nutritionPointValue').innerHTML = getValuePts;
    }; 

  </script>
</body>
</html>
